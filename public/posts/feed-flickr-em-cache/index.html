<!--
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -->
<!--
- -----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- - -->
<!--
- - -----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- - - -->
<!--
- - - -----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- - - - -->
<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="shrink-to-fit=no,width=device-width,height=device-height,initial-scale=1,user-scalable=1"><meta name=description content="My corner of the web"><title>Adler Medrado's little piece of turf</title>
<link rel=author href=/humans.txt><link rel=canonical href=https://adlermedrado.com.br><link href=/css/styles.css rel=stylesheet></head><body><header><nav class=navbar role=navigation><div class=navbar_left><a href=/><strong>Adler Medrado</strong></a></div><div class=navbar_right><a href=/posts>Posts</a>
<a href=/tags>Posts by Tags</a></div></nav></header><main><section class=section><article><div><h1>Feed e Flickr em cache</h1><div><div><p><small><time>May 10, 2008</time>
|
1 minute read</small></p></div><span class=line_break></span></div><div class=content><p>Quem está me acompanhando no twitter e tem lido meus últimos posts, sabe que criei um site e etc, porém, nos últimos
dias meu server no dreamhost está um pouco lento e justamente no consumo dos feeds do meu blog e na requisição REST para
minha página no Flickr o meu site tem tipo um comportamento um pouco lento. É lógico que não é culpa exclusiva do
consumo de feed e do REST do Flickr, porém, para melhorar um pouco eu usei o componente <em>Zend_Cache</em> do ZF para colocar
estes dois objetos em cache.</p><p>Eu coloquei o cache em arquivo em disco, porquê não estou com saco pra recompilar meu PHP no Dreamhost para usar o APC,
então a melhora na performance poderia ser ainda melhor.</p><p>Um exemplo de como usar o <em>Zend_Cache</em> colocando objeto serializado em arquivo:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getFeed</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    $frontend <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;lifetime&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#ae81ff>7200</span>, <span style=color:#75715e>// vida do cache eh duas horas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;automatic_serialization&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    $backend <span style=color:#f92672>=</span> <span style=color:#66d9ef>array</span>(
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;cache_dir&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;meu_dir&#39;</span> <span style=color:#75715e>// Diretorio para colocar o cache
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// getting a Zend_Cache_Core object
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    $cache <span style=color:#f92672>=</span> <span style=color:#a6e22e>Zend_Cache</span><span style=color:#f92672>::</span><span style=color:#a6e22e>factory</span>(<span style=color:#e6db74>&#39;Core&#39;</span>, <span style=color:#e6db74>&#39;File&#39;</span>, $frontend, $backend);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>$objFeed <span style=color:#f92672>=</span> $cache<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>load</span>(<span style=color:#e6db74>&#39;feed&#39;</span>)) {
</span></span><span style=display:flex><span>        $objFeed <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Zend_Feed_Rss</span>(<span style=color:#e6db74>&#39;http://adlermedrado.com.br/blog/?feed=rss2&#39;</span>);
</span></span><span style=display:flex><span>        $cache<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>save</span>($objFeed, <span style=color:#e6db74>&#39;feed&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> $objFeed;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></div></article><div><div><div><a href=https://adlermedrado.com.br/posts/mudanca-de-endereco-realizada/>&#8592; Mudança de endereço realizada</a>
|
<a href=https://adlermedrado.com.br/posts/heavy-metal-pra-quem-gosta-de-historia/>Heavy Metal pra quem gosta de história &#8594;</a></div></div></div></section></main><span class=line_break></span>
<span class=line_break></span><footer><div><p><small>&copy; 1996-2023 Adler Medrado</small></p></div><div class=gpg_signed_info><p>All pages on this website are PGP signed.
Import my <a href=/pub-key.asc>public key</a> and check with <em>curl https://adlermedrado.com.br/posts/feed-flickr-em-cache/ | gpg --verify</em></p></div></footer></body></html><!--
- - - -----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEOakOfYA7XALT7+un/2dtxSoBkcMFAmWRhScACgkQ/2dtxSoB
kcPtCg/8CJzrja5XXEfUgMXxNR+eU5blFsdAb4hX30tBPUPsd7smEKWWB7oikkaM
ZKDslqdzVxpU9nWoiiUB1gMXx4drENgfDfqgmyQEbDqTss50DiK/zdmgPonEeASQ
OVvWhEwNX42+PFrFa2GI3bMXfkrK5+5APemNF374b1P3X17+W1gaImHExw55ncl+
9ADyHFCDB+9sDnymtOVQa1KC4kKGAWoKwpMTXYOsaU/8NWQmzp2ChO0Z95guaPnU
jYXvyRjJKbOF7eIYz4GQLdiFc3UxuFgmaEgHPnzilIAaAdmP15+O3MshSbRqcbQA
NQa+JcvzG9Y8jNctgyM+yZ1X9GSOAGdH3xVpAkrol/wzQpo+qg+ITPtXYAkpvk+w
o39+1SF55m/C1IURCnLivsjwVndUptPupO8UZ2zKm4mlC63EyuigpYEa48F6J6u2
JOP1pV3XrOzt6xuX7GR10qY4XjaNERsVusyaCqk+EAroC5p1fvbU96GjePzWrAfV
OivWmHCwBAxOw3ch5IpD5iUd9EHApNwqdOyIRgGz0DvBPreKc1XO2K1pUCzPBrgO
d4Ni8VTeXc6Z13YjtsEqVGh2scjyFyyNP1DcD4r+R1K8OtQqgclAWUu4LM3eViv0
vxW2UZu1LHnZnPoD0AuNjof1ARRGkswq5drXb68HICO/bz/y9Kw=
=se8k
- - - -----END PGP SIGNATURE-----
- - - -->
<!--
- - -----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEOakOfYA7XALT7+un/2dtxSoBkcMFAmWRjxAACgkQ/2dtxSoB
kcPySxAAs4J+GSyhf53jWGCQjlYrEM7b9F0TGU+lIV+RDN0QirJsylCB+LvWP+MG
gzDt0bcWPnrK6Qf8MFl1ykILniYIQc+tfF21HadLG5hN2PkCJqb+s9dri4NtXaFs
bEFcXe+a0721T5EIs38chtKWCkWc99T34MJC3Km4pTwPeR7c8Rh6mgZykOvZKXN+
kmOHXwZj5BgV+s4qNsmjuxP4QmfCwhN12xilstJFCaV73MUbbxzLaZEJQ8+OXrAO
6quI6IsKzZzDgPHIG67QW02VoGBsJK3EIaO5bg/H0IriAcgoLHBR4vwogruGwCvU
yepLL52OWzbTU8KPl6ZWE1WzqnN+3tOJ66L0s/gmHkshk70ARYgdDK4h9U5gIh3S
+O+GUkEmyi80r4fF+u25aUOo8Evmd5IO98TOe5u7wIOhaSQFvAr+9F0qEh5msMXr
6TM/KP0iuCXEiGcmJHnNS4ip1+4Ti+6oVW59nm5lDdi6iuHpGPNhuGeWCtiaqJGE
8AKkGFv36Og69IPMlPFyNd+zmHseeop2THMrsW1GEV1uZrFITJQR09+pQAEoywcY
bc+FQtd8EBPRp3uq5oLbyvFfXjyPi4c7cVuJIctvQQXE5u3j6svb7B/s5X4y9yDn
1WvqINqp0xEpH5Xyl5NZX7t/Il7fDef+U0BdXmP82lmi7QjFQ+E=
=jlPH
- - -----END PGP SIGNATURE-----
- - -->
<!--
- -----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEOakOfYA7XALT7+un/2dtxSoBkcMFAmWRj+MACgkQ/2dtxSoB
kcNgBRAAv2GX6A6RsRF/cskEjRzyRRmfXMVn/CGSf8Ypst0shRhMZobvWLzqi54p
7lMpz5SJb1yL+hpmasQhRwfkWtbY1xgd+2H/SNf0iwYekdzkG/r7Na3bNVAQfX0B
WXGTiUR8ZBTEmSl3FFUvjUeGnbV/lnVRHe1etAqYR6rvW1zxIOJo+CWvCixoD3qP
9dmgx5SLKuTXROTX7Uw6ERk78NpKZ3lZrL4GcL16PB+UonBxx9pRJtY42lBV7ERk
jemEL896tfhxpI4p2IUEGt2B1ZQ22Ls6YXAgosNatP1NOksdkXmWogPCHXeCe8VK
/r+mOFMkw78Ghz+d/6sZVb2BS69QxJ1/C7Hfvq59G7IRQp1iiARUZJKTi2ZzqvWx
S0c5eJ6hABQnY490WCi5dW2SNBvp080z5BERJl4skvFLMJsBY2R0pxAZJ16s/HhY
fuVoihe1RZRyq6WJBZNmIO2eHydp8tGhC/rTOcXR8DfVrF0H8HEouAEEca6Ds4nl
G7jPlR2IfaTIO1MztbmHgxGX0CHHjrHkkPuhbknqQcPnda+nq44y7hl25sl3uYp9
kSwVxm2XJ0w2kyNtBa4CL8V9kpBPu3JrPJqSt2LGkjX8+18curcFkFjyhb/6FDR3
/8h/SV4m+RxSnpz1gfZPC0gAjLAvHZBkHAlOKKz7IccLam2JrkA=
=x1Pj
- -----END PGP SIGNATURE-----
- -->
<!--
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEOakOfYA7XALT7+un/2dtxSoBkcMFAmWRlHsACgkQ/2dtxSoB
kcNH4A/8DNshsGXDZ+012xqqFGmVCcyb3hxGqFmMl2jMFPvIw5+bh/Wss3ritM6Z
Z03vxZAlJby48SxRtZAhey6gVLA6LAv1p0S8MYCk9+xGFl5QoKEOQi0cTpMopH1S
XQ5upeTeQG09VP+BkMHvDhdShdsNlp8Zww9EwPmmCVG5KBgiJa+aXsxnBnYk0gro
zD55JEskJVhFyq7gEi1Hc5ZbUAbqELmtB9rUME0gBxHETcC3owoJGJF4+z7x9uEv
iFVGlDf3DMbQeT0ql3+l/mmTuWJdeYU22FjZTWIbBIrY1th+CV8vJsVErcb9MOYc
E7y9Hnq8hUB12jdESqzimbCO07cVVv5zonpjF+TuJhLqyMNhSfbcrIOv8VvV4d6B
7LqiAsTp9r3zT+pjlwkDp5cEBXT0eMSEEyXOuwH0uryYiK9PEPHyDHK4pQ5f5GvO
4DnYt4qGQ5t13UfQeceS9JPZPeF9gKHFx0P7h5Nn5xdPToyGDiDPMgydf056IdBw
gR44VLUO4jfbHI5c5bRjlqHSPgaLl82qL1/AROjdBxN6M3X25hxCP8wi9Yya8jUv
KlLsfIif210eBv+dbQ6HM2VX8dzgQZBIVMq3ig7WORtItDCxuMOYAGX1mZB+pwUV
fU4JEaWXMlHf6rskty6HGHoT+HtMwaKg+SCc8O/3C/hybhe5CP4=
=ktxY
-----END PGP SIGNATURE-----
-->
